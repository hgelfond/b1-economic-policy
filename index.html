<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B1 Economic Policy: A Group Project from DPI-691</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
    <link href="styles/federal-style.css" rel="stylesheet" type = "text/css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="style.css" rel="stylesheet" type="text/css">
  </head>
<body>
<nav class="navbar navbar-inverse navbar-static-top">
	<div class="container">
		<div class="navbar-header">
			<!-- <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button> -->
			<a class="navbar-brand" href="https://hgelfond.github.io/b1-economic-policy/index.html"> Economic Policy: A Project for DPI-69 </a>
		</div>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/index.html">Home</a></li>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/income-inequality.html">Income Inequality</a>
		</li>
		<li> <a href="https://hgelfond.github.io/b1-economic-policy/asset-valuation.html">Asset Valuation </a></li>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/fiscal.html">Fiscal Policy </a></li>

<!-- the commented out text below were our original headers -->
<!-- 		<li><a href="https://hgelfond.github.io/b1-economic-policy/nyc-municipal.html">NYC Municipal</a></li>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/federal-economic-data.html">U.S. Federal</a></li>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/international-economic-data.html">International</a></li>
		<li><a href="https://hgelfond.github.io/b1-economic-policy/private-sector-finance.html">Private Sector</a></li> -->
		<!-- <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li><a href="https://hgelfond.github.io/b1-economic-policy/index.html">Home</a></li>
				<li><a href="https://hgelfond.github.io/b1-economic-policy/nyc-municipal.html">NYC Municipal</a></li>
				<li><a href="https://hgelfond.github.io/b1-economic-policy/federal-economic-data.html">U.S. Federal</a></li>
				<li><a href="https://hgelfond.github.io/b1-economic-policy/international-economic-data.html">International</a></li>
				<li><a href="https://hgelfond.github.io/b1-economic-policy/private-sector-finance.html">Private Sector Finance</a></li>
			</ul>
		</div> -->
	</div>
</nav>

<div class="jumbotron">
	<div class="container">
		<h1>Economic Policy of the World</h1>
		<br>
		<h2>A Data-Driven Look at Income Inequality <br> from the Local, National, International and Private-Sector Perspectives</h2>
		<br>
		<p> Team Collaborators:<br> Alex Armlovich, Hilary Gelfond, Jun Mukoyama, and Jake Schneider</p>
		<br>
		<br>
	</div>	
</div>

<div align = "center" class = "substory">
	<h1><strong>Insert text here that lays out the narrative. </strong><br><br></h1>
		<!-- 	<a href="https://hgelfond.github.io/b1-economic-policy/income-inequality.html">Income Inequality </a>
			<br>
			<a href="https://hgelfond.github.io/asset-valuation.html">Asset Valuation </a>
			<br>
			<a href="https://hgelfond.github.io/b1-economic-policy/fiscal.html">Fiscal Policy </a> -->
			<!-- <a href="https://hgelfond.github.io/b1-economic-policy/international-economic-data.html">International Economic Data: Jun </a>
			<br>
			<a href="https://hgelfond.github.io/b1-economic-policy/federal-economic-data.html"> National Economic Data: Hilary </a>
			<br>
			<a href="https://hgelfond.github.io/b1-economic-policy/nyc-municipal.html"> Municipal Economic Data: Alex </a>
			<br>
		<a href="https://hgelfond.github.io/b1-economic-policy/private-sector-finance.html"> Private Sector Financial Data: Jake </a>
		<br>
		</p>-->





<!-- # add boxes about each topic -->
<div class="row">
  <div class="col-4">
    <div class="thumbnail">
    	<br>
  	    <br>
    	<span style = "font-size: 30px;" class="glyphicon glyphicon-globe glyphicon-large" aria-hidden="true"></span>
      <div class="caption">
        <h1>Income Inequality</h1>
        <p>Some text about inequality</p>
        <p><a href="https://hgelfond.github.io/b1-economic-policy/income-inequality.html" class="btn btn-primary" role="button">Learn More</a></p>
        <br>
      </div>
    </div>
  </div>
  <div class= col-4">
    <div class="thumbnail">
    	<br>
    	<br>
    	<span style = "font-size: 30px;" class="glyphicon glyphicon-stats glyphicon-large" aria-hidden="true"></span>
      <div class="caption">
        <h1>Asset Valuation</h1>
        <p>Some text about asset valuation</p>
        <p><a href="https://hgelfond.github.io/b1-economic-policy/asset-valuation.html" class="btn btn-primary" role="button">Learn More</a></p>
        <br>
      </div>
    </div>
  </div>
  <div class="col-4">
    <div class="thumbnail">
    	<br>
    	<br>
    	<span style = "font-size: 30px;" class="glyphicon glyphicon-usd glyphicon-large" aria-hidden="true"></span>
      <div class="caption">
        <h1>Fiscal Outlook</h1>
        <p>Some text about fiscal policy</p>
        <p><a href="https://hgelfond.github.io/b1-economic-policy/fiscal.html" class="btn btn-primary" role="button">Learn More</a></p>
        <br>
      </div>
    </div>
  </div>
</div>

<!-- # moved the World GDP per capita  
<br>
<br>
<br>
	<h3><font color = #98C1D9>World GDP per capita, 2017</font></h3>
		<img src="https://hgelfond.github.io/b1-economic-policy/assets/world-gdp-per-capita-2017.png" width="800" height="400" alt="Global GDP per capita">
		<br>
		<p> <font color = #98C1D9>Data Source: <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.CD">World Bank</a></font></p>
<br>
-->

<!-- WORLD MAP: Keeping CSS and SCRIPT JUST for now  -->
<style>

body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  width: 960px;
  height: 500px;
  position: relative;
}

#worlmap-canvas-svg {
}


.land {
  fill: #222;
}

.boundary {
  fill: none;
  stroke: #fff;
  stroke-width: 1px;
}

#worldmap-tooltip-container {
  position: absolute;
  background-color: #fff;
  color: #000;
  padding: 10px;
  border: 1px solid;
  display: none;
}

.tooltip_key {
  font-weight: bold;
}

.tooltip_value {
  margin-left: 20px;
  float: right;
}

</style>

<div id="worldmap-tooltip-container"></div>

<div id="worldmap-canvas-svg"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>

d3.csv("data/worldmap.csv", function(err, data) {

  var config = {"data0":"Country (or dependent territory)","data1":"GDPC",
              "label0":"label 0","label1":"label 1","color0":"#99ccff","color1":"#0050A1",
              "width":960,"height":960}
  
  var width = config.width,
      height = config.height;
  
  var COLOR_COUNTS = 9;
  
  function Interpolate(start, end, steps, count) {
      var s = start,
          e = end,
          final = s + (((e - s) / steps) * count);
      return Math.floor(final);
  }
  
  function Color(_r, _g, _b) {
      var r, g, b;
      var setColors = function(_r, _g, _b) {
          r = _r;
          g = _g;
          b = _b;
      };
  
      setColors(_r, _g, _b);
      this.getColors = function() {
          var colors = {
              r: r,
              g: g,
              b: b
          };
          return colors;
      };
  }
  
  function hexToRgb(hex) {
      var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
      return result ? {
          r: parseInt(result[1], 16),
          g: parseInt(result[2], 16),
          b: parseInt(result[3], 16)
      } : null;
  }
  
  //*change numbers to fit GDP//
  function valueFormat(d) {
    if (d > 1000) {
      return Math.round(d / 1000) + "k";
    } else {
      return Math,round(d);
    }
  }
  
  var COLOR_FIRST = config.color0, COLOR_LAST = config.color1;
  
  var rgb = hexToRgb(COLOR_FIRST);
  
  var COLOR_START = new Color(rgb.r, rgb.g, rgb.b);
  
  rgb = hexToRgb(COLOR_LAST);
  var COLOR_END = new Color(rgb.r, rgb.g, rgb.b);
  
  var startColors = COLOR_START.getColors(),
      endColors = COLOR_END.getColors();
  
  var colors = [];
  
  for (var i = 0; i < COLOR_COUNTS; i++) {
    var r = Interpolate(startColors.r, endColors.r, COLOR_COUNTS, i);
    var g = Interpolate(startColors.g, endColors.g, COLOR_COUNTS, i);
    var b = Interpolate(startColors.b, endColors.b, COLOR_COUNTS, i);
    colors.push(new Color(r, g, b));
  }
  
  var MAP_KEY = config.data0;
  var MAP_VALUE = config.data1;
  
  var projection = d3.geo.mercator()
      .scale((width + 1) / 2 / Math.PI)
      .translate([width / 2, height / 2])
      .precision(.1);
  
  var path = d3.geo.path()
      .projection(projection);
  
  var graticule = d3.geo.graticule();
  
  var svg = d3.select("#worldmap-canvas-svg").append("svg")
      .attr("width", width)
      .attr("height", height);
  
  svg.append("path")
      .datum(graticule)
      .attr("class", "graticule")
      .attr("d", path);
  
  var valueHash = {};
  
  function log10(val) {
    return Math.log(val);
  }
  
  data.forEach(function(d) {
    valueHash[d[MAP_KEY]] = +d[MAP_VALUE];
  });
  
  var quantize = d3.scale.quantize()
      .domain([0, 1.0])
      .range(d3.range(COLOR_COUNTS).map(function(i) { return i }));
  
  quantize.domain([d3.min(data, function(d){
      return (+d[MAP_VALUE]) }),
    d3.max(data, function(d){
      return (+d[MAP_VALUE]) })]);
  
  d3.json("https://s3-us-west-2.amazonaws.com/vida-public/geo/world-topo-min.json", function(error, world) {
    var countries = topojson.feature(world, world.objects.countries).features;
  
    svg.append("path")
       .datum(graticule)
       .attr("class", "choropleth")
       .attr("d", path);
  
    var g = svg.append("g");
  
    g.append("path")
     .datum({type: "LineString", coordinates: [[-180, 0], [-90, 0], [0, 0], [90, 0], [180, 0]]})
     .attr("class", "equator")
     .attr("d", path);
  
    var country = g.selectAll(".country").data(countries);
  
    country.enter().insert("path")
        .attr("class", "country")
        .attr("d", path)
        .attr("id", function(d,i) { return d.id; })
        .attr("title", function(d) { return d.properties.name; })
        .style("fill", function(d) {
          if (valueHash[d.properties.name]) {
            var c = quantize((valueHash[d.properties.name]));
            var color = colors[c].getColors();
            return "rgb(" + color.r + "," + color.g +
                "," + color.b + ")";
          } else {
            return "#ccc";
          }
        })
        .on("mousemove", function(d) {
            var html = "";
  
            html += "<div class=\"tooltip_kv\">";
            html += "<span class=\"tooltip_key\">";
            html += d.properties.name;
            html += "</span>";
            html += "<span class=\"tooltip_value\">";
            html += (valueHash[d.properties.name] ? valueFormat(valueHash[d.properties.name]) : "");
            html += "";
            html += "</span>";
            html += "</div>";
            
            $("#tooltip-container").html(html);
            $(this).attr("fill-opacity", "0.8");
            $("#tooltip-container").show();
            
            var coordinates = d3.mouse(this);
            
            var map_width = $('.choropleth')[0].getBoundingClientRect().width;
            
            if (d3.event.pageX < map_width / 2) {
              d3.select("#tooltip-container")
                .style("top", (d3.event.layerY + 15) + "px")
                .style("left", (d3.event.layerX + 15) + "px");
            } else {
              var tooltip_width = $("#tooltip-container").width();
              d3.select("#tooltip-container")
                .style("top", (d3.event.layerY + 15) + "px")
                .style("left", (d3.event.layerX - tooltip_width - 30) + "px");
            }
        })
        .on("mouseout", function() {
                $(this).attr("fill-opacity", "1.0");
                $("#tooltip-container").hide();
            });
    
    g.append("path")
        .datum(topojson.mesh(world, world.objects.countries, function(a, b) { return a !== b; }))
        .attr("class", "boundary")
        .attr("d", path);
    
    svg.attr("height", config.height * 2.2 / 3);
  });
  
  d3.select(self.frameElement).style("height", (height * 2.3 / 3) + "px");
});

</script>




<!-- # team member  -->
<div class = "col=12">
	<div class = our-team">
		<h1> Our Team </h1>
	</div>
</div>

<div class="row">
	<div class="col-sm-3">
	  <div class="team-member">
		<h3><a href="https://www.linkedin.com/in/alexander-armlovich-4b0a9b2/"> Alex Armlovich </a></h3>
		<p>MPP, 2019</p>
	  </div>
	</div>	
	<div class="col-sm-3">
	  <div class="team-member">
		<h3><a href="https://www.linkedin.com/in/hilary-gelfond-3b414b83/"> Hilary Gelfond </a></h3>
		<p>MPP, 2020</p>
	  </div>
	</div>
	<div class="col-sm-3">
      <div class="team-member">
		<h3><a href="https://www.linkedin.com/in/jun-mukoyama-oikawa-a35909104/"> Jun Mukoyama </a></h3>
		<p>MPA, 2020</p>
	  </div>	
	</div>
	<div class="col-sm-3">
	  <div class="team-member">
		<h3><a href="https://www.linkedin.com/in/jake-schneider-2370b337/"> Jake Schneider </a></h3>
		<p>MPA-ID, 2020</p>
<<<<<<< HEAD
=======
	  </div>		
>>>>>>> 7c7b07570f03dfab1aad81cc5cef2d0ca77a4efd
	</div>	
</div>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>



</body>

<footer>
    <div class="container-fluid text-center text-md-left">
    <div class="footer">
    DPI-691: Programming and Data for Policymakers, Harvard Kennedy School. Last Updated: 01-16-2019
  </div>
</div>
</footer>

</html>